<html>
<head>
  <link rel="stylesheet" href="./dist/talkie.min.css">
  <link rel="stylesheet" href="./dist/talkie-default.min.css">
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/monokai_sublime.min.css">
</head>
<body>

<script layout type="text/x-markdown">
## 3章
### Go言語による
### HTTP/1.0クライアントの実装
</script>

<script layout type="text/x-markdown">
* Go言語を使って、HTTPの基本となる4つの要素を自由に送受信するコードの書き方を学ぶ
</script>

<script layout type="text/x-markdown">
### 3.1 Go言語を使う理由
</script>

<script layout type="text/x-markdown">
* 言語仕様が少ないため、他の言語ユーザーでも理解しやすい
* コンパイル言語であるため、記述の間違いに気づきやすい
* 標準ライブラリのみで、HTTPアクセスを行うプログラムが作成できる
* CLIクライアントの実装言語としても使われている
</script>

<script layout type="text/x-markdown">
### 3.2 Go言語のAPIの構成
</script>

<script layout type="text/x-markdown">
### 3種類ある
* ・ 機能が制約されるが、簡単に扱えるAPI
* ・ Cookieも利用できる、少しコントローラブルなAPI
* ・ 全機能にアクセスできるAPI
</script>

<script layout type="text/x-markdown">
### 3.3 本章で取り上げるレシピ
</script>

<script layout type="text/x-markdown">
|レシピ |メソッド |Go言語API
|:-- |:-- |:--
|GETによる情報取得 |GET |http.Get
|クエリー付き情報取得 |GET |http.Get
|HEADによるヘッダー取得 |HEAD |http.Head
|x-www-form-urlencodeでフォームの送信 |POST |http.PostForm
|POSTでファイル送信 |POST |http.Post
|multipart/form-dataでファイルの送信 |POST |http.PostForm
|クッキーの送受信 |GET/HEAD/POST |http.Client
|プロキシ |GET/HEAD/POST |http.Client
|ファイルシステムへのアクセス |GET/HEAD/POST |http.Client
|自由なメソッドの送信 |なんでも |http.Request/http.Client
|ヘッダーの送信 |なんでも |http.Request/http.Client
</script>

<script layout type="text/x-markdown">
### 3.4 GETメソッドの送信と、ボディ、ステータスコード、ヘッダーの受信
</script>

<script layout type="text/x-markdown">
* [以降のcode sample](https://github.com/yinm/realworld-http/tree/master/chapter3/)
</script>

<script layout="code" invert type="text/x-markdown">

```http
# curl http://localhost:18888 を実行

GET / HTTP/1.1
Host: localhost:18888
Accept: */*
User-Agent: curl/7.43.0
```

```http
# go run chapter3/01.simpleget/main.go を実行

GET / HTTP/1.1
Host: localhost:18888
Accept-Encoding: gzip
User-Agent: Go-http-client/1.1
```

</script>

<script layout type="text/x-markdown">
### 3.4.1 io.Reader
</script>

<script layout type="text/x-markdown">
* Go言語では、シーケンシャルなデータの入出力を、`io.Reader`, `io.Writer`インターフェースとして抽象化している
* 詳しい説明は、[こちらのサイトの第2回 ~ 第4回で解説](http://ascii.jp/elem/000/001/235/1235262/)
</script>

<script layout type="text/x-markdown">
### 3.5 GETメソッド + クエリーの送信
</script>

<script layout="code" invert type="text/x-markdown">

```http
# curl -G --data-urlencode "query=hello world" http://localhost:18888 を実行

GET /?query=hello%20world HTTP/1.1
Host: localhost:18888
Accept: */*
User-Agent: curl/7.43.0
```

```http
# go run chapter3/02.queryget/main.go を実行

GET /?query=hello+world HTTP/1.1
Host: localhost:18888
Accept-Encoding: gzip
User-Agent: Go-http-client/1.1
```

</script>

<script layout type="text/x-markdown">
### 3.6 HEADメソッドでヘッダーを取得
</script>

<script layout="code" invert type="text/x-markdown">

```http
# curl --head http://localhost:18888 を実行

HTTP/1.1 200 OK
Date: Wed, 23 Aug 2017 23:20:25 GMT
Content-Length: 32
Content-Type: text/html; charset=utf-8
```

```http
# go run chapter3/03.head/main.go を実行

2017/08/24 08:16:24 Status: 200 OK
2017/08/24 08:16:24 Headers: map[Date:[Wed, 23 Aug 2017 23:16:24 GMT] Content-Length:[32] Content-Type:[text/html; charset=utf-8]]
```

</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
###
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
###
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
###
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
###
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
###
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
###
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
###
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
###
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
###
*
</script>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
<script src="./dist/talkie.min.js"></script>
<script>Talkie();</script>
</body>
</html>
