<html>
<head>
  <link rel="stylesheet" href="./dist/talkie.min.css">
  <link rel="stylesheet" href="./dist/talkie-default.min.css">
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/monokai_sublime.min.css">
</head>
<body>

<script layout type="text/x-markdown">
## 4章
### HTTP/1.1のシンタックス:
### 高速化と安全性を求めた拡張
</script>

<script layout type="text/x-markdown">
* 本章では、HTTP1.1以降の新しい機能について説明する
* ・通信の高速化
* ・TLSによる暗号化通信のサポート
* ・新メソッドの追加
* ・プロトコルのアップグレード
* ・名前を使ったバーチャルホストのサポート
* ・チャンク転送エンコーディングのサポート
</script>

<script layout type="text/x-markdown">
* HTTP/2 でも、HTTP/1.1で策定されている内容が現役で使われている
* ・通信内容
* ・ブラウザとサーバーのコミュニケーションのセマンティクス
</script>

<script layout type="text/x-markdown">
### 4.1 通信の高速化
</script>

<script layout type="text/x-markdown">
* Keep-Aliveとパイプライニングは、<br>すべてのHTTP通信を高速化する機能
* cf) EtagとCache-Controlは、<br>リソースごとに通信を最適化する機能
</script>

<script layout type="text/x-markdown">
### 4.1.1 Keep-Alive
</script>

<script layout type="text/x-markdown">
* TCP/IPの通信を効率化する仕組み <br>(連続したリクエストの時に、接続を再利用する)
* 利用するには、<br>`Connection: Keep-Alive` をヘッダーをリクエストに付与する
* TLS通信の場合に、特にメリットがある (RTTを減らせるため)
</script>

<script layout type="text/x-markdown">
* Keep-Aliveの終了方法には、2種類ある
* ・`Connection: Close` <br>ヘッダーを追加する (リクエスト or レスポンス)
* ・タイムアウトする <br>(クライアント or サーバーの持続時間の短い方を採用)
* 通信が継続している間は、OSのリソースを消費しているため、短い時間で接続を切るのにも意味がある
</script>

<script layout type="text/x-markdown">
### 4.1.2 パイプライニング
</script>

<script layout type="text/x-markdown">
* リクエストが完了する前に次のリクエストを送信し、ネットワークの稼働率を上げる機能
* Keep-Aliveの利用を前提としている
* 仕様上は、サーバーはリクエストが来た順でレスポンスを返す
* しかし、パフォーマンスがあまり上がらないという話もある
* ・HOL Blockingが発生する
* ・サーバーやプロキシの影響でうまく動作しない
* **-> デフォルトで使っているブラウザはあまりない**
</script>

<script layout type="text/x-markdown">
* HTTP/2で、ストリームという新しい仕組みとして生まれ変わった
* ・HTTP/2では、HTTPS通信が前提になりつつあるので、プロキシの影響を受けない
* ・HTTP/2では、リクエスト順にレスポンスを返す必要がなくなった
* -> 詳細は、7章で解説
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script layout type="text/x-markdown">
###
</script>

<script layout type="text/x-markdown">
*
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
<script src="./dist/talkie.min.js"></script>
<script>Talkie();</script>
</body>
</html>
